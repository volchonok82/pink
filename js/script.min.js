"use strict";window.addEventListener("load",(function(){function e(e,t){if(e)for(var n=0;n<e.length;n++)e[n].classList.remove(t)}var t,n,r=document.querySelector("html"),o={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return o.Android()||o.BlackBerry()||o.iOS()||o.Opera()||o.Windows()}};o.any()?r.classList.add("_touch"):r.classList.add("_pc"),t=r,(n=new Image).src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",n.onload=n.onerror=function(){2===n.height?t.classList.add("_webp"):t.classList.add("_no-webp")},!1==(window.navigator.userAgent.indexOf("MSIE ")>-1||window.navigator.userAgent.indexOf("Trident/")>-1)||(alert("Ваш браузер не поддерживается, страница может отображаться некорректно!"),r.classList.add("_ie"));var i=document.querySelector("body"),a=document.querySelectorAll(".lock-padding"),l=!0,s=500;function c(){var e=window.innerWidth-document.querySelector("._body-wrapper").offsetWidth+"px";if(a.length>0)for(var t=0;t<a.length;t++){a[t].style.paddingRight=e}i.style.paddingRight=e,i.classList.add("_lock"),l=!1,setTimeout((function(){l=!0}),s)}function d(){setTimeout((function(){if(a.length>0)for(var e=0;e<a.length;e++){a[e].style.paddingRight="0px"}i.style.paddingRight="0px",i.classList.remove("_lock")}),0),l=!1,setTimeout((function(){l=!0}),s)}var u=document.querySelector(".icon-menu"),p=document.querySelector(".menu__body");u&&u.addEventListener("click",(function(e){u.classList.contains("_active")?(u.classList.remove("_active"),p.classList.remove("_active"),d()):(u.classList.add("_active"),p.classList.add("_active"),c())}));var m=document.querySelectorAll("a[data-goto]");if(m.length>0){var f=function(t){var n=t.target;if(n.dataset.goto&&document.querySelector(n.dataset.goto)){var r=document.querySelector(n.dataset.goto).getBoundingClientRect().top+pageYOffset;u.classList.contains("_active")&&(document.body.classList.remove("_lock"),u.classList.remove("_active"),p.classList.remove("_active")),document.querySelectorAll("._hover")&&e(document.querySelectorAll("._hover"),"_hover"),window.scrollTo({top:r,behavior:"smooth"}),t.preventDefault()}};m.forEach((function(e){e.addEventListener("click",f)}))}function v(e){this.type=e}v.prototype.init=function(){var e=this,t=this;this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=document.querySelectorAll("[data-da]");for(var n=0;n<this.nodes.length;n++){var r=this.nodes[n],o=r.dataset.da.trim().split(","),i={};i.element=r,i.parent=r.parentNode,i.destination=document.querySelector(o[0].trim()),i.breakpoint=o[1]?o[1].trim():"767",i.place=o[2]?o[2].trim():"last",i.index=this.indexInParent(i.parent,i.element),this.оbjects.push(i)}this.arraySort(this.оbjects),this.mediaQueries=Array.prototype.map.call(this.оbjects,(function(e){return"("+this.type+"-width: "+e.breakpoint+"px),"+e.breakpoint}),this),this.mediaQueries=Array.prototype.filter.call(this.mediaQueries,(function(e,t,n){return Array.prototype.indexOf.call(n,e)===t}));for(var a=function(n){var r=e.mediaQueries[n],o=String.prototype.split.call(r,","),i=window.matchMedia(o[0]),a=o[1],l=Array.prototype.filter.call(e.оbjects,(function(e){return e.breakpoint===a}));i.addListener((function(){t.mediaHandler(i,l)})),e.mediaHandler(i,l)},l=0;l<this.mediaQueries.length;l++)a(l)},v.prototype.mediaHandler=function(e,t){if(e.matches)for(var n=0;n<t.length;n++){var r=t[n];r.index=this.indexInParent(r.parent,r.element),this.moveTo(r.place,r.element,r.destination)}else for(var o=0;o<t.length;o++){var i=t[o];i.element.classList.contains(this.daClassname)&&this.moveBack(i.parent,i.element,i.index)}},v.prototype.moveTo=function(e,t,n){t.classList.add(this.daClassname),"last"===e||e>=n.children.length?n.insertAdjacentElement("beforeend",t):"first"!==e?n.children[e].insertAdjacentElement("beforebegin",t):n.insertAdjacentElement("afterbegin",t)},v.prototype.moveBack=function(e,t,n){t.classList.remove(this.daClassname),void 0!==e.children[n]?e.children[n].insertAdjacentElement("beforebegin",t):e.insertAdjacentElement("beforeend",t)},v.prototype.indexInParent=function(e,t){var n=Array.prototype.slice.call(e.children);return Array.prototype.indexOf.call(n,t)},v.prototype.arraySort=function(e){"min"===this.type?Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:e.place-t.place:e.breakpoint-t.breakpoint})):Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:t.place-e.place:t.breakpoint-e.breakpoint}))},new v("max").init();var h=document.querySelectorAll(".popup-link");if(h.length>0)for(var g=function(e){var t=h[e];t.addEventListener("click",(function(e){var n=t.getAttribute("href").replace("#","");L(document.getElementById(n)),e.preventDefault()}))},y=0;y<h.length;y++)g(y);var _=document.querySelectorAll(".popup__close");if(_.length>0)for(var b=function(e){var t=_[e];t.addEventListener("click",(function(e){S(t.closest(".popup")),e.preventDefault()}))},A=0;A<_.length;A++)b(A);function L(e){if(e&&l){var t=document.querySelector(".popup.open");t?S(t,!1):c(),e.classList.add("open"),e.addEventListener("click",(function(e){e.target.closest(".popup__content")||S(e.target.closest(".popup"))}))}}function S(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];l&&(e.classList.remove("open"),t&&d())}function c(){var e=window.innerWidth-document.querySelector("._body-wrapper").offsetWidth+"px";if(a.length>0)for(var t=0;t<a.length;t++){a[t].style.paddingRight=e}i.style.paddingRight=e,i.classList.add("_lock"),l=!1,setTimeout((function(){l=!0}),s)}function d(){setTimeout((function(){if(a.length>0)for(var e=0;e<a.length;e++){a[e].style.paddingRight="0px"}i.style.paddingRight="0px",i.classList.remove("_lock")}),0),l=!1,setTimeout((function(){l=!0}),s)}document.addEventListener("keydown",(function(e){"Escape"===e.key&&S(document.querySelector(".popup.open"))})),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);var w=document.querySelectorAll("._tabs-link");document.querySelectorAll("._tabs-block");w.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=this.getAttribute("data-tab"),r=document.querySelector('._tabs-block[data-tab="'+n+'"]'),o=document.querySelector("._tabs-link._active"),i=document.querySelector("._tabs-block._active");o.classList.remove("_active"),e.classList.add("_active"),i.classList.remove("_active"),r.classList.add("_active")}))}));var k=document.getElementById("form"),E=document.querySelector(".popup-ok"),q=document.querySelector(".popup-error");function x(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function I(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}function P(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}k&&k.addEventListener("submit",(function(e){e.preventDefault();var t=function(e){for(var t=0,n=document.querySelectorAll("._req"),r=0;r<n.length;r++){var o=n[r];I(o),"email"===o.getAttribute("type")?P(o)&&(x(o),t++):("checkbox"===o.getAttribute("type")&&!1===o.checked||""===o.value)&&(x(o),t++)}return t}();new FormData(k);0===t?(L(E),k.reset()):L(q)}));var B=document.getElementById("formImage"),C=document.getElementById("formPreview");B&&C&&B.addEventListener("change",(function(){!function(e){if(!["image/jpeg","image/png","image/gif"].includes(e.type))return alert("Разрешены только изображения!"),void(B.value="");if(e.size>2097152)return void alert("Файл должен быть менее 2мб.");var t=new FileReader;t.onload=function(e){C.innerHTML='<img src="'.concat(e.target.result,'" alt="Фото">')},t.onerror=function(e){alert("Ошибка")},t.readAsDataURL(e)}(B.files[0])}));var R=document.querySelectorAll("input[type=range]");if(R)for(var j=0;j<R.length;j++){R[j].addEventListener("change",(function(){document.querySelector(".upload__reset").disabled=!1}))}var O=document.querySelector("#formImage"),T=document.querySelector(".upload__image");if(O&&T&&(O.addEventListener("focus",(function(){T.classList.add("_focus")})),O.addEventListener("blur",(function(){T.classList.remove("_focus")}))),document.addEventListener("click",(function(t){var n=t.target;n.classList.contains("menu__arrow")&&n.closest(".menu__item").classList.toggle("_hover");!n.closest(".menu__item")&&document.querySelectorAll(".menu__item._hover").length>0&&e(document.querySelectorAll(".menu__item._hover"),"_hover");n.closest(".upload__image img")&&document.querySelector("#formImage").click();n.classList.contains("upload__reset")&&setTimeout((function(){return n.disabled=!0}),10)})),window.Swiper)new Swiper(".slider-t",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".slider-t__pagination",type:"bullets",clickable:!0},slidesPerView:1,watchOverflow:!0,slidesPerGroup:1,centeredSlides:!0,initialSlide:0,slidesPerColumn:1,loop:!0,loopedSlides:0,freeMode:!1,autoHeight:!0,speed:800,observer:!0,observeParents:!0,observeSlideChildren:!0}),new Swiper(".slider-tarifs",{pagination:{el:".slider-tarifs__pagination",type:"bullets",clickable:!0},slidesPerView:1,watchOverflow:!0,slidesPerGroup:1,centeredSlides:!0,initialSlide:0,slidesPerColumn:1,loop:!0,loopedSlides:0,freeMode:!1,speed:800,observer:!0,observeParents:!0,observeSlideChildren:!0})}));
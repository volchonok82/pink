"use strict";window.addEventListener("load",(function(){function e(e,t){if(e)for(var n=0;n<e.length;n++)e[n].classList.remove(t)}var t,n,r=document.querySelector("html"),i={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return i.Android()||i.BlackBerry()||i.iOS()||i.Opera()||i.Windows()}};i.any()?r.classList.add("_touch"):r.classList.add("_pc"),t=r,(n=new Image).src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",n.onload=n.onerror=function(){2===n.height?t.classList.add("_webp"):t.classList.add("_no-webp")},!1==(window.navigator.userAgent.indexOf("MSIE ")>-1||window.navigator.userAgent.indexOf("Trident/")>-1)||(alert("Ваш браузер не поддерживается, страница может отображаться некорректно!"),r.classList.add("_ie"));var o=document.querySelector("body"),a=document.querySelectorAll(".lock-padding"),l=!0;function s(){var e=window.innerWidth-document.querySelector("._body-wrapper").offsetWidth+"px";if(a.length>0)for(var t=0;t<a.length;t++){a[t].style.paddingRight=e}o.style.paddingRight=e,o.classList.add("_lock"),l=!1,setTimeout((function(){l=!0}),500)}function c(){setTimeout((function(){if(a.length>0)for(var e=0;e<a.length;e++){a[e].style.paddingRight="0px"}o.style.paddingRight="0px",o.classList.remove("_lock")}),0),l=!1,setTimeout((function(){l=!0}),500)}var d=document.querySelector(".icon-menu"),u=document.querySelector(".menu__body");d&&d.addEventListener("click",(function(e){d.classList.contains("_active")?(d.classList.remove("_active"),u.classList.remove("_active"),c()):(d.classList.add("_active"),u.classList.add("_active"),s())}));var p=document.querySelectorAll("a[data-goto]");if(p.length>0){var m=function(t){var n=t.target;if(n.dataset.goto&&document.querySelector(n.dataset.goto)){var r=document.querySelector(n.dataset.goto).getBoundingClientRect().top+pageYOffset;d.classList.contains("_active")&&(document.body.classList.remove("_lock"),d.classList.remove("_active"),u.classList.remove("_active")),document.querySelectorAll("._hover")&&e(document.querySelectorAll("._hover"),"_hover"),window.scrollTo({top:r,behavior:"smooth"}),t.preventDefault()}};p.forEach((function(e){e.addEventListener("click",m)}))}function f(e){this.type=e}f.prototype.init=function(){var e=this,t=this;this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=document.querySelectorAll("[data-da]");for(var n=0;n<this.nodes.length;n++){var r=this.nodes[n],i=r.dataset.da.trim().split(","),o={};o.element=r,o.parent=r.parentNode,o.destination=document.querySelector(i[0].trim()),o.breakpoint=i[1]?i[1].trim():"767",o.place=i[2]?i[2].trim():"last",o.index=this.indexInParent(o.parent,o.element),this.оbjects.push(o)}this.arraySort(this.оbjects),this.mediaQueries=Array.prototype.map.call(this.оbjects,(function(e){return"("+this.type+"-width: "+e.breakpoint+"px),"+e.breakpoint}),this),this.mediaQueries=Array.prototype.filter.call(this.mediaQueries,(function(e,t,n){return Array.prototype.indexOf.call(n,e)===t}));for(var a=function(n){var r=e.mediaQueries[n],i=String.prototype.split.call(r,","),o=window.matchMedia(i[0]),a=i[1],l=Array.prototype.filter.call(e.оbjects,(function(e){return e.breakpoint===a}));o.addListener((function(){t.mediaHandler(o,l)})),e.mediaHandler(o,l)},l=0;l<this.mediaQueries.length;l++)a(l)},f.prototype.mediaHandler=function(e,t){if(e.matches)for(var n=0;n<t.length;n++){var r=t[n];r.index=this.indexInParent(r.parent,r.element),this.moveTo(r.place,r.element,r.destination)}else for(var i=0;i<t.length;i++){var o=t[i];o.element.classList.contains(this.daClassname)&&this.moveBack(o.parent,o.element,o.index)}},f.prototype.moveTo=function(e,t,n){t.classList.add(this.daClassname),"last"===e||e>=n.children.length?n.insertAdjacentElement("beforeend",t):"first"!==e?n.children[e].insertAdjacentElement("beforebegin",t):n.insertAdjacentElement("afterbegin",t)},f.prototype.moveBack=function(e,t,n){t.classList.remove(this.daClassname),void 0!==e.children[n]?e.children[n].insertAdjacentElement("beforebegin",t):e.insertAdjacentElement("beforeend",t)},f.prototype.indexInParent=function(e,t){var n=Array.prototype.slice.call(e.children);return Array.prototype.indexOf.call(n,t)},f.prototype.arraySort=function(e){"min"===this.type?Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:e.place-t.place:e.breakpoint-t.breakpoint})):Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:t.place-e.place:t.breakpoint-e.breakpoint}))},new f("max").init();var v=document.querySelectorAll(".popup-link");if(v.length>0)for(var h=function(e){var t=v[e];t.addEventListener("click",(function(e){var n=t.getAttribute("href").replace("#","");A(document.getElementById(n)),e.preventDefault()}))},g=0;g<v.length;g++)h(g);var y=document.querySelectorAll(".popup__close");if(y.length>0)for(var _=function(e){var t=y[e];t.addEventListener("click",(function(e){S(t.closest(".popup")),e.preventDefault()}))},b=0;b<y.length;b++)_(b);function A(e){if(e&&l){var t=document.querySelector(".popup.open");t?S(t,!1):s(),e.classList.add("open"),e.addEventListener("click",(function(e){e.target.closest(".popup__content")||S(e.target.closest(".popup"))}))}}function S(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];l&&(e.classList.remove("open"),t&&c())}function s(){var e=window.innerWidth-document.querySelector("._body-wrapper").offsetWidth+"px";if(a.length>0)for(var t=0;t<a.length;t++){a[t].style.paddingRight=e}o.style.paddingRight=e,o.classList.add("_lock"),l=!1,setTimeout((function(){l=!0}),500)}function c(){setTimeout((function(){if(a.length>0)for(var e=0;e<a.length;e++){a[e].style.paddingRight="0px"}o.style.paddingRight="0px",o.classList.remove("_lock")}),0),l=!1,setTimeout((function(){l=!0}),500)}document.addEventListener("keydown",(function(e){"Escape"===e.key&&S(document.querySelector(".popup.open"))})),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);var L=document.querySelectorAll("._tabs-link");document.querySelectorAll("._tabs-block");L.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=this.getAttribute("data-tab"),r=document.querySelector('._tabs-block[data-tab="'+n+'"]'),i=document.querySelector("._tabs-link._active"),o=document.querySelector("._tabs-block._active");i.classList.remove("_active"),e.classList.add("_active"),o.classList.remove("_active"),r.classList.add("_active")}))}));var k=document.getElementById("form"),w=document.querySelector(".popup-ok"),E=document.querySelector(".popup-error");function q(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function x(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}function I(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}k&&k.addEventListener("submit",(function(e){e.preventDefault();var t=function(e){for(var t=0,n=document.querySelectorAll("._req"),r=0;r<n.length;r++){var i=n[r];x(i),"email"===i.getAttribute("type")?I(i)&&(q(i),t++):("checkbox"===i.getAttribute("type")&&!1===i.checked||""===i.value)&&(q(i),t++)}return t}();new FormData(k);0===t?(A(w),k.reset()):A(E)}));var P=document.getElementById("formImage"),B=document.getElementById("formPreview");P&&B&&P.addEventListener("change",(function(){!function(e){if(!["image/jpeg","image/png","image/gif"].includes(e.type))return alert("Разрешены только изображения!"),void(P.value="");if(e.size>2097152)return void alert("Файл должен быть менее 2мб.");var t=new FileReader;t.onload=function(e){B.innerHTML='<img src="'.concat(e.target.result,'" alt="Фото">')},t.onerror=function(e){alert("Ошибка")},t.readAsDataURL(e)}(P.files[0])}));var C=document.querySelectorAll("input[type=range]");if(C)for(var R=0;R<C.length;R++){C[R].addEventListener("change",(function(){document.querySelector(".upload__reset").disabled=!1}))}document.addEventListener("click",(function(t){var n=t.target;n.classList.contains("menu__arrow")&&n.closest(".menu__item").classList.toggle("_hover");!n.closest(".menu__item")&&document.querySelectorAll(".menu__item._hover").length>0&&e(document.querySelectorAll(".menu__item._hover"),"_hover");n.closest(".upload__image img")&&document.querySelector("#formImage").click();n.classList.contains("upload__reset")&&setTimeout((function(){return n.disabled=!0}),10)}));new Swiper(".slider-t",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".slider-t__pagination",type:"bullets",clickable:!0},slidesPerView:1,watchOverflow:!0,slidesPerGroup:1,centeredSlides:!0,initialSlide:0,slidesPerColumn:1,loop:!0,loopedSlides:0,freeMode:!1,autoHeight:!0,speed:800,observer:!0,observeParents:!0,observeSlideChildren:!0}),new Swiper(".slider-tarifs",{pagination:{el:".slider-tarifs__pagination",type:"bullets",clickable:!0},slidesPerView:1,watchOverflow:!0,slidesPerGroup:1,centeredSlides:!0,initialSlide:0,slidesPerColumn:1,loop:!0,loopedSlides:0,freeMode:!1,speed:800,observer:!0,observeParents:!0,observeSlideChildren:!0})}));